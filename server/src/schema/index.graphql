# import * from "./directives.graphql"
# import * from "./inputs.graphql"
# import * from "./types.graphql"

type Query {
  feed: [Post!]!
  drafts: [Post!]! @isAuthenticated
  post(id: ID!): Post
  getSelf: User @isAuthenticated
  getUser(id: ID!): User @maxDepth(depth: 1)
  getUserContent(id: ID!): [Post] @maxDepth(depth: 1)
  getRecentPosts: [Post] @maxDepth(depth: 2)
}

type Mutation {
  authenticate(idToken: String!): User!
  createDraft(title: String!, text: String!): Post! @isAuthenticated
  publish(id: ID!): Post! @isAuthenticated
  updatePost(id: ID!, title: String!, text: String!): Post! @maxDepth(depth: 2)
  deletePost(id: ID!): Post! @isAuthenticated
}

type Subscription {
  feedSubscription: PostSubscriptionPayload!
}

schema {
  query: Query
  mutation: Mutation
}
